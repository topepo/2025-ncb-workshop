<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-732fb9ccd080a018ca85ca5d15770f52.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.31">

  <meta name="author" content="E. David Aja">
  <title>Project-Oriented Workflow – personal radmin</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #97947a;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #97947a;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2; background-color: #2b2b2b; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #dcc6e0; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #ffd700; } /* Attribute */
    code span.bn { color: #dcc6e0; } /* BaseN */
    code span.bu { color: #f5ab35; } /* BuiltIn */
    code span.cf { color: #ffa07a; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffa07a; } /* Constant */
    code span.co { color: #d4d0ab; } /* Comment */
    code span.cv { color: #d4d0ab; font-style: italic; } /* CommentVar */
    code span.do { color: #d4d0ab; font-style: italic; } /* Documentation */
    code span.dt { color: #dcc6e0; } /* DataType */
    code span.dv { color: #dcc6e0; } /* DecVal */
    code span.er { color: #dcc6e0; } /* Error */
    code span.ex { color: #ffd700; } /* Extension */
    code span.fl { color: #f5ab35; } /* Float */
    code span.fu { color: #ffd700; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; } /* Keyword */
    code span.op { color: #00e0e0; } /* Operator */
    code span.ot { color: #ffa07a; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.sc { color: #00e0e0; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #f5ab35; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #d4d0ab; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-1f154f99a0ef51fb633661172b91217c.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="site_libs/quarto-diagram/mermaid-postprocess-shim.js"></script>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">personal radmin</h1>
  <p class="subtitle">throw your computer into the ocean with confidence</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
E. David Aja 
</div>
</div>
</div>

</section>
<section id="course-material" class="slide level2">
<h2>Course material</h2>
<div class="r-fit-text">
<p><a href="https://github.com/posit-conf-2024/wtf">posit-conf-2024/wtf</a></p>
</div>
</section>
<section id="a-brief-personal-history" class="slide level2">
<h2>a brief personal history:</h2>
<div class="columns scrollable">
<div class="column fragment" style="width:33%;">
<h3 id="auditor">Auditor</h3>
<div class="r-fit-text">
<ul>
<li>personal laptop {{&lt; fa brands windows &gt;}}</li>
<li>RStudio in Citrix {{&lt; fa brands windows &gt;}}</li>
<li>airgapped Posit Workbench {{&lt; fa brands linux &gt;}}</li>
<li>airgapped Shiny Server Pro {{&lt; fa brands linux &gt;}}</li>
<li>Special Issue Individual Laptop {{&lt; fa brands windows &gt;}} {{&lt; fa brands linux &gt;}}</li>
<li>Special Issue Individual Desktop {{&lt; fa brands windows &gt;}}</li>
<li>Special Issue Team Desktop {{&lt; fa brands windows &gt;}}</li>
</ul>
</div>
</div><div class="column fragment" style="width:33%;">
<h3 id="data-scientist">Data Scientist</h3>
<div class="r-fit-text">
<ul>
<li>personal laptop {{&lt; fa brands windows &gt;}}</li>
<li>work laptop {{&lt; fa brands windows &gt;}}</li>
<li>RStudio in Citrix {{&lt; fa brands windows &gt;}}</li>
<li>RStudio Server {{&lt; fa brands linux &gt;}}</li>
</ul>
</div>
</div><div class="column fragment" style="width:33%;">
<h3 id="solutions-engineer">Solutions Engineer</h3>
<div class="r-fit-text">
<ul>
<li>personal laptop {{&lt; fa brands windows &gt;}}</li>
<li>work laptop {{&lt; fa brands apple &gt;}}</li>
<li>Posit Workbench Demo Server {{&lt; fa brands linux &gt;}}</li>
<li>Posit Workbench Internal Server {{&lt; fa brands linux &gt;}}</li>
<li>misc ephemeral environments</li>
</ul>
</div>
</div></div>
<aside class="notes">
<p>this is intended to provide context on my priorities / habits of thought: - it needs to work across operating systems - You can’t depend on having pro features - avoid admin where possible - as portable as practical - audit context means I need to be able to reproduce exactly - “run this command” preferable to a confluence page of screenshots</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="how-do-i" class="slide level2">
<h2>How do I…</h2>
<ul>
<li class="fragment">upgrade the version of R I’m using for this project?</li>
<li class="fragment">track which package versions I’m using for this project?</li>
<li class="fragment">move this project from one machine to another?</li>
</ul>
<aside class="notes">
<p>We’re extending the lessons from Day 1 to think about what it means to work with R projects over time.<br>
That means that in addition to wanting our individual projects to flow smoothly, we also want to strategize about how to manage different versions of the language, different package versions, and different execution contexts. Working on an old project on a new computer is a lot like trying to put an app into production.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section>
<section id="warmup" class="title-slide slide level1 center">
<h1>warmup</h1>

</section>
<section id="library" class="slide level2">
<h2><span class="emoji" data-emoji="package">📦</span> library</h2>
<div class="fragment" data-fragment-index="1">
<p><strong>R packages</strong></p>
<ul>
<li>the natural unit for distributing R code</li>
</ul>
</div>
<div class="fragment" data-fragment-index="2">
<p><strong>base R</strong></p>
<ul>
<li>14 base + 15 recommended packages</li>
<li>ships with all binary distributions of R</li>
</ul>
</div>
<div class="fragment" data-fragment-index="3">
<p><strong>For example, have you used lattice recently?</strong> 🤷</p>
<ul>
<li>it came with your R installation, can use out of the box</li>
<li><code>library(lattice)</code></li>
</ul>
</div>
</section>
<section id="where-do-packages-live-locally" class="slide level2">
<h2>Where do packages live locally?</h2>
<p><br></p>
<p>By default, in the default library</p>
<p><code>.Library</code></p>
<p><br></p>
<p>All libraries for the current session</p>
<p><code>.libPaths()</code></p>
<p><br></p>
<p>All installed packages</p>
<p><code>installed.packages()</code></p>
</section>
<section id="explore-your-package-library" class="slide level2">
<h2>explore your package library</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a>usethis<span class="sc">::</span><span class="fu">use_course</span>(<span class="st">"rstats-wtf/wtf-explore-libraries"</span>)</span>
<span id="cb1-2"><a></a><span class="co"># use_course("rstats-wtf/wtf-explore-libraries", destdir = "my/new/location")</span></span>
<span id="cb1-3"><a></a>usethis<span class="sc">::</span><span class="fu">proj_activate</span>(<span class="st">"/path/to/my/new/location"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
{{&lt; countdown "7:30" &gt;}}
</section></section>
<section>
<section id="starting-r" class="title-slide slide level1 center">
<h1>starting R</h1>

</section>
<section id="why" class="slide level2">
<h2>why?</h2>
<p>Sometimes we want to change the way our code behaves <em>without</em> having to change the code.</p>
<aside class="notes">
<p>behaves might mean - “what computer do I think I’m on” - “is this dev or prod”?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="r-startup-sequence" class="slide level2 smaller" data-background-color="#cccccc">
<h2>R startup sequence</h2>
<div class="r-stack">
<p><img data-src="img/R-startup.svg"></p>
</div>
</section>
<section id="r-startup-sequence-our-focus" class="slide level2 smaller" data-background-color="#cccccc">
<h2>R startup sequence (our focus)</h2>
<div class="r-stack">
<p><img data-src="img/r-startup-focus.svg"></p>
</div>
</section>
<section id="use-a-newline" class="slide level2">
<h2><span class="emoji" data-emoji="warning">⚠️</span> Use a newline</h2>
<div class="columns">
<div class="column">
<p>startup files <strong>must</strong> end in a newline. <br> <br></p>
<p>R may silently throw away the last line if you don’t do this.</p>
</div><div class="column">
<p><img data-src="img/insert-newline-end-highlight.png"></p>
</div></div>
</section>
<section id="renviron" class="slide level2">
<h2><code>.Renviron</code></h2>
<p>environment variables</p>
<blockquote>
<p>a […] named value that can affect the way running processes will behave on a computer</p>
</blockquote>
</section>
<section id="what-goes-in-.renviron" class="slide level2">
<h2>what goes in <code>.Renviron</code></h2>
<p><span class="emoji" data-emoji="white_check_mark">✅</span> R-specific environment variables<br>
<span class="emoji" data-emoji="white_check_mark">✅</span> API keys or other secrets<br>
<span class="emoji" data-emoji="x">❌</span> R code</p>
</section>
<section id="editing-.renviron" class="slide level2">
<h2>Editing <code>.Renviron</code></h2>
<div class="r r-fit-text">
<p><code>usethis::edit_r_environ(scope = ?)</code></p>
</div>
<div class="columns">
<div class="column" style="width:40%;">
<h3 id="user">user</h3>
<p><code>~/.Renviron</code></p>
</div><div class="column" style="width:60%;">
<h3 id="project">project</h3>
<p><code>path/to/your/project/.Renviron</code></p>
</div></div>
</section>
<section id="example-.renviron" class="slide level2">
<h2>example <code>.Renviron</code></h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a></a><span class="va">PATH</span><span class="op">=</span><span class="st">"</span><span class="va">${RTOOLS40_HOME}</span><span class="st">\usr\bin;</span><span class="va">${PATH}</span><span class="st">"</span> <span class="co"># windows users</span></span>
<span id="cb2-2"><a></a><span class="va">CONNECT_API_KEY</span><span class="op">=</span>DaYK2hBUriSBYUEGIAiyXsRJHSjTYJN3</span>
<span id="cb2-3"><a></a><span class="va">R_HISTSIZE</span><span class="op">=</span>100000</span>
<span id="cb2-4"><a></a><span class="va">RETICULATE_PYTHON</span><span class="op">=</span>.venv/bin/python</span>
<span id="cb2-5"><a></a><span class="va">DB_USER</span><span class="op">=</span>elephant</span>
<span id="cb2-6"><a></a><span class="va">DB_PASS</span><span class="op">=</span>p0stgr3s</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="read-environment-variables" class="slide level2">
<h2>read environment variables</h2>
<div class="r r-fit-text">
<p><code>Sys.getenv()</code></p>
</div>
</section>
<section id="edit-your-user-.renviron" class="slide level2 smaller">
<h2>edit your user <code>.Renviron</code></h2>
<ol type="1">
<li><code>usethis::edit_r_environ()</code></li>
<li>add <code>WTF_USER=&lt;your name&gt;_user</code></li>
<li>restart your R session<br>
<code>CTRL + SHIFT + F10</code><br>
<code>CMD  + SHIFT + 0</code></li>
<li>Retrieve the value of WTF_USER <code>Sys.getenv("WTF_USER")</code></li>
</ol>
{{&lt; countdown "2:00" &gt;}}
</section>
<section id="edit-your-project-.renviron" class="slide level2 smaller">
<h2>edit your project <code>.Renviron</code></h2>
<ol type="1">
<li><code>usethis::edit_r_environ("project")</code></li>
<li>add <code>WTF_PROJECT=&lt;your name&gt;_project</code></li>
<li>restart your R session<br>
<code>CTRL + SHIFT + F10</code><br>
<code>CMD  + SHIFT + 0</code></li>
<li>Retrieve the value of WTF_PROJECT <code>Sys.getenv("WTF_PROJECT")</code></li>
</ol>
{{&lt; countdown "2:00" &gt;}}
<div class="question">
<p>what’s the value of <code>WTF_USER</code> after you set <code>WTF_PROJECT</code>?</p>
</div>
</section>
<section id="renviron-recap" class="slide level2">
<h2><code>.Renviron</code> recap</h2>
<p>project <code>.Renviron</code> “short-circuits” if it exists, your user <code>.Renviron</code> will not be evaluated</p>
</section>
<section id="rprofile" class="slide level2">
<h2><code>.Rprofile</code></h2>
<p>R code that runs at the start of each session</p>
</section>
<section id="interactive" class="slide level2">
<h2>?interactive()</h2>
<div class="columns">
<div class="column">
<h3 id="true"><code>TRUE</code></h3>
<p><span class="emoji" data-emoji="technologist">🧑‍💻</span> <br></p>
<ul>
<li>sending individual lines of code to the console</li>
</ul>
<p><br> <br></p>
<div class="fragment">
<p><span class="emoji" data-emoji="point_up">☝️</span> most <code>.Rprofile</code> customization</p>
</div>
</div><div class="column">
<h3 id="false"><code>FALSE</code></h3>
<p><span class="emoji" data-emoji="robot">🤖</span> <br></p>
<ul>
<li>knitting an RMarkdown document</li>
<li><code>R -e script.R</code></li>
</ul>
</div></div>
</section>
<section id="what-to-put-in-.rprofile" class="slide level2">
<h2>what to put in <code>.Rprofile</code></h2>
<ul>
<li>set a default CRAN mirror</li>
<li>customize <a href="https://github.com/gaborcsardi/prompt/">R prompt</a></li>
</ul>
</section>
<section id="what-not-to-put-in-.rprofile" class="slide level2">
<h2>what <em>not</em> to put in <code>.Rprofile</code></h2>
<p>If it matters for code you share, it <strong>should not</strong> be in <code>.Rprofile</code></p>
</section>
<section id="why-shouldnt-these-go-in-.rprofile" class="slide level2">
<h2>why shouldn’t these go in <code>.Rprofile</code>?</h2>
<ul>
<li class="fragment"><code>options(stringsAsFactors = FALSE)</code></li>
<li class="fragment"><code>library(tidyverse)</code></li>
<li class="fragment"><code>f &lt;- dplyr::filter</code></li>
<li class="fragment"><code>theme_set(theme_bw())</code></li>
</ul>
</section>
<section id="discuss-with-your-neighbor" class="slide level2">
<h2>discuss with your neighbor</h2>
<div class="question">
<p>Why <em>might</em> these be safe to put in <code>.Rprofile</code>?</p>
</div>
<p><br></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a><span class="fu">library</span>(usethis)</span>
<span id="cb3-2"><a></a><span class="fu">library</span>(devtools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
{{&lt; countdown "2:00" &gt;}}
</section>
<section id="dotfiles" class="slide level2">
<h2>dotfiles</h2>
<div class="r-fit-text">
<p>https://github.com/search?q=.Rprofile</p>
</div>
</section>
<section id="activity" class="slide level2">
<h2>activity</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">edit your user <code>.Rprofile</code></a></li><li><a href="#tabset-1-2">edit your project <code>.Rprofile</code></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<ol type="1">
<li><code>usethis::edit_r_profile()</code></li>
<li>add <code>print("from my user Rprofile")</code></li>
<li>restart your R session<br>
<code>CTRL + SHIFT + F10</code><br>
<code>CMD  + SHIFT + 0</code></li>
<li>what value is printed when you restart?</li>
</ol>
</div>
<div id="tabset-1-2">
<ol type="1">
<li><code>usethis::edit_r_profile("project")</code></li>
<li>add <code>print("from my project Rprofile")</code></li>
<li>restart your R session<br>
<code>CTRL + SHIFT + F10</code><br>
<code>CMD  + SHIFT + 0</code></li>
<li>what value is printed when you restart?</li>
</ol>
</div>
</div>
</div>
{{&lt; countdown "5:00" &gt;}}
</section>
<section id="rprofile-recap" class="slide level2">
<h2><code>.Rprofile</code> recap</h2>
<p>project <code>.Rprofile</code> “short-circuits”<br>
if it exists, your user <code>.Rprofile</code> will not be evaluated</p>
</section>
<section id="wrapping-up" class="slide level2">
<h2>wrapping up</h2>
<div class="columns">
<div class="column">
<h3 id="renviron-1"><code>.Renviron</code></h3>
<ul>
<li>secrets</li>
<li>environment information</li>
</ul>
</div><div class="column">
<h3 id="rprofile-1"><code>.Rprofile</code></h3>
<ul>
<li>development dependencies</li>
</ul>
</div></div>
<aside class="notes">
<p>Environment variables are inherited by child processes, so setting them early in the startup process is valuable Hosting providers trying to deal with secrets will often let you supply environment variables</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="installing-r-packages" class="title-slide slide level1 center">
<h1>installing R packages</h1>

</section>
<section id="why-1" class="slide level2">
<h2>why</h2>
<div class="r-stack">
<p><img data-src="img/slacking-tidyverse.png"></p>
</div>
<aside class="notes">
<p>having a reason to slack off is fun but being able to get your work done quickly is more fun</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="states-of-r-packages" class="slide level2">
<h2>states of R packages</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="0 0 216 606" style="; display: block; margin: auto auto auto auto" class="flowchart" xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="960" id="mermaid-figure-1" height="480">
<style>#mermaid-figure-1{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#ccc;}#mermaid-figure-1 .error-icon{fill:#a44141;}#mermaid-figure-1 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-figure-1 .edge-thickness-normal{stroke-width:1px;}#mermaid-figure-1 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-figure-1 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-figure-1 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-figure-1 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-figure-1 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-figure-1 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-figure-1 .marker.cross{stroke:lightgrey;}#mermaid-figure-1 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-figure-1 p{margin:0;}#mermaid-figure-1 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#mermaid-figure-1 .cluster-label text{fill:#F9FFFE;}#mermaid-figure-1 .cluster-label span{color:#F9FFFE;}#mermaid-figure-1 .cluster-label span p{background-color:transparent;}#mermaid-figure-1 .label text,#mermaid-figure-1 span{fill:#ccc;color:#ccc;}#mermaid-figure-1 .node rect,#mermaid-figure-1 .node circle,#mermaid-figure-1 .node ellipse,#mermaid-figure-1 .node polygon,#mermaid-figure-1 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#mermaid-figure-1 .rough-node .label text,#mermaid-figure-1 .node .label text{text-anchor:middle;}#mermaid-figure-1 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-figure-1 .node .label{text-align:center;}#mermaid-figure-1 .node.clickable{cursor:pointer;}#mermaid-figure-1 .arrowheadPath{fill:lightgrey;}#mermaid-figure-1 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-figure-1 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-figure-1 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-figure-1 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#mermaid-figure-1 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-figure-1 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-figure-1 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-figure-1 .cluster text{fill:#F9FFFE;}#mermaid-figure-1 .cluster span{color:#F9FFFE;}#mermaid-figure-1 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-figure-1 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-figure-1 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker orient="auto" markerheight="8" markerwidth="8" markerunits="userSpaceOnUse" refy="5" refx="5" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629442_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="8" markerwidth="8" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629442_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629442_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629442_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-1749087629442_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-1749087629442_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-1749087629442_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Source_Bundled_0" d="M108,62L108,68.167C108,74.333,108,86.667,108,95.917C108,105.167,108,111.333,108,116.833C108,122.333,108,127.167,108,129.583L108,132"></path><path marker-end="url(#mermaid-1749087629442_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Bundled_Binary_1" d="M108,190L108,198.167C108,206.333,108,222.667,108,234.917C108,247.167,108,255.333,108,262.833C108,270.333,108,277.167,108,280.583L108,284"></path><path marker-end="url(#mermaid-1749087629442_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Binary_Installed_2" d="M108,342L108,348.167C108,354.333,108,366.667,108,375.917C108,385.167,108,391.333,108,396.833C108,402.333,108,407.167,108,409.583L108,412"></path><path marker-end="url(#mermaid-1749087629442_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Installed_Loaded_3" d="M108,470L108,476.167C108,482.333,108,494.667,108,503.917C108,513.167,108,519.333,108,524.833C108,530.333,108,535.167,108,537.583L108,540"></path></g><g class="edgeLabels"><g transform="translate(108, 99)" class="edgeLabel"><g transform="translate(-59.76953125, -12)" class="label"><foreignobject height="24" width="119.5390625">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel">
<p>
devtools::build()
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(108, 239)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignobject height="48" width="200">
<div class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel">
<p>
devtools::build(binary = TRUE)
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(108, 379)" class="edgeLabel"><g transform="translate(-63.2734375, -12)" class="label"><foreignobject height="24" width="126.546875">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel">
<p>
install.packages()
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(108, 507)" class="edgeLabel"><g transform="translate(-29.33984375, -12)" class="label"><foreignobject height="24" width="58.6796875">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel">
<p>
library()
</p>
</span>
</div>
</foreignobject></g></g></g><g class="nodes"><g transform="translate(108, 35)" id="flowchart-Source-0" class="node default"><rect height="54" width="107.890625" y="-27" x="-53.9453125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-23.9453125, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="47.890625">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
Source
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(108, 163)" id="flowchart-Bundled-1" class="node default"><rect height="54" width="117.8125" y="-27" x="-58.90625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-28.90625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="57.8125">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
Bundled
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(108, 315)" id="flowchart-Binary-3" class="node default"><rect height="54" width="104.875" y="-27" x="-52.4375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-22.4375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="44.875">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
Binary
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(108, 443)" id="flowchart-Installed-5" class="node default"><rect height="54" width="121.5" y="-27" x="-60.75" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.75, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="61.5">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
Installed
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(108, 571)" id="flowchart-Loaded-7" class="node default"><rect height="54" width="111.6484375" y="-27" x="-55.82421875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-25.82421875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="51.6484375">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
Loaded
</p>
</span>
</div>
</foreignobject></g></g></g></g></g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>

<aside><div>
<p><a href="https://r-pkgs.org/Structure.html">R Packages – Structure</a></p>
</div></aside></section>
<section id="states-of-r-packages-1" class="slide level2">
<h2>states of R packages</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="0 0 256 706" style="; display: block; margin: auto auto auto auto" class="flowchart" xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="960" id="mermaid-figure-4" height="480">
<style>#mermaid-figure-4{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#ccc;}#mermaid-figure-4 .error-icon{fill:#a44141;}#mermaid-figure-4 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-figure-4 .edge-thickness-normal{stroke-width:1px;}#mermaid-figure-4 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-figure-4 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-figure-4 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-figure-4 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-figure-4 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-figure-4 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-figure-4 .marker.cross{stroke:lightgrey;}#mermaid-figure-4 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-figure-4 p{margin:0;}#mermaid-figure-4 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#mermaid-figure-4 .cluster-label text{fill:#F9FFFE;}#mermaid-figure-4 .cluster-label span{color:#F9FFFE;}#mermaid-figure-4 .cluster-label span p{background-color:transparent;}#mermaid-figure-4 .label text,#mermaid-figure-4 span{fill:#ccc;color:#ccc;}#mermaid-figure-4 .node rect,#mermaid-figure-4 .node circle,#mermaid-figure-4 .node ellipse,#mermaid-figure-4 .node polygon,#mermaid-figure-4 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#mermaid-figure-4 .rough-node .label text,#mermaid-figure-4 .node .label text{text-anchor:middle;}#mermaid-figure-4 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-figure-4 .node .label{text-align:center;}#mermaid-figure-4 .node.clickable{cursor:pointer;}#mermaid-figure-4 .arrowheadPath{fill:lightgrey;}#mermaid-figure-4 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-figure-4 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-figure-4 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-figure-4 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#mermaid-figure-4 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-figure-4 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-figure-4 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-figure-4 .cluster text{fill:#F9FFFE;}#mermaid-figure-4 .cluster span{color:#F9FFFE;}#mermaid-figure-4 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-figure-4 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-figure-4 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker orient="auto" markerheight="8" markerwidth="8" markerunits="userSpaceOnUse" refy="5" refx="5" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629871_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="8" markerwidth="8" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629871_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629871_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629871_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-1749087629871_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-1749087629871_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="use" class="cluster"><rect height="232" width="191.5" y="466" x="32.25" style=""></rect><g transform="translate(116.02734375, 466)" class="cluster-label"><foreignobject height="24" width="23.9453125">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
use
</p>
</span>
</div>
</foreignobject></g></g><g data-look="classic" id="dev" class="cluster"><rect height="384" width="240" y="8" x="8" style=""></rect><g transform="translate(115.26171875, 8)" class="cluster-label"><foreignobject height="24" width="25.4765625">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
dev
</p>
</span>
</div>
</foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-1749087629871_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Source_Bundled_0" d="M128,87L128,93.167C128,99.333,128,111.667,128,120.917C128,130.167,128,136.333,128,141.833C128,147.333,128,152.167,128,154.583L128,157"></path><path marker-end="url(#mermaid-1749087629871_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Bundled_Binary_1" d="M128,215L128,223.167C128,231.333,128,247.667,128,259.917C128,272.167,128,280.333,128,287.833C128,295.333,128,302.167,128,305.583L128,309"></path><path marker-end="url(#mermaid-1749087629871_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Binary_Installed_2" d="M128,367L128,371.167C128,375.333,128,383.667,128,394C128,404.333,128,416.667,128,429C128,441.333,128,453.667,128,461.917C128,470.167,128,474.333,128,477.833C128,481.333,128,484.167,128,485.583L128,487"></path><path marker-end="url(#mermaid-1749087629871_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Installed_Loaded_3" d="M128,545L128,551.167C128,557.333,128,569.667,128,578.917C128,588.167,128,594.333,128,599.833C128,605.333,128,610.167,128,612.583L128,615"></path></g><g class="edgeLabels"><g transform="translate(128, 124)" class="edgeLabel"><g transform="translate(-59.76953125, -12)" class="label"><foreignobject height="24" width="119.5390625">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel">
<p>
devtools::build()
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(128, 264)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignobject height="48" width="200">
<div class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel">
<p>
devtools::build(binary = TRUE)
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(128, 429)" class="edgeLabel"><g transform="translate(-63.2734375, -12)" class="label"><foreignobject height="24" width="126.546875">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel">
<p>
install.packages()
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(128, 582)" class="edgeLabel"><g transform="translate(-29.33984375, -12)" class="label"><foreignobject height="24" width="58.6796875">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel">
<p>
library()
</p>
</span>
</div>
</foreignobject></g></g></g><g class="nodes"><g transform="translate(128, 60)" id="flowchart-Source-0" class="node default"><rect height="54" width="107.890625" y="-27" x="-53.9453125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-23.9453125, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="47.890625">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
Source
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(128, 188)" id="flowchart-Bundled-1" class="node default"><rect height="54" width="117.8125" y="-27" x="-58.90625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-28.90625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="57.8125">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
Bundled
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(128, 340)" id="flowchart-Binary-3" class="node default"><rect height="54" width="104.875" y="-27" x="-52.4375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-22.4375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="44.875">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
Binary
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(128, 518)" id="flowchart-Installed-5" class="node default"><rect height="54" width="121.5" y="-27" x="-60.75" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.75, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="61.5">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
Installed
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(128, 646)" id="flowchart-Loaded-7" class="node default"><rect height="54" width="111.6484375" y="-27" x="-55.82421875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-25.82421875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="51.6484375">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
Loaded
</p>
</span>
</div>
</foreignobject></g></g></g></g></g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>

<aside class="notes">
<ul>
<li>show how to set options for different environment managers</li>
<li>Install package from github</li>
<li>Develop your own packages</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><div>
<p><a href="https://r-pkgs.org/Structure.html">R Packages – Structure</a></p>
</div></aside></section>
<section id="binary" class="slide level2">
<h2>Binary</h2>
<ul>
<li>compiled ahead of time</li>
<li>easiest / fastest to install</li>
</ul>
<aside class="notes">
<p>you may particularly care about installation speed if you’re being billed by the minute for compute time, or if you need computations to finish before a timeout</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="where-to-get-binaries" class="slide level2">
<h2>where to get binaries</h2>
<table class="caption-top">
<colgroup>
<col style="width: 38%">
<col style="width: 21%">
<col style="width: 39%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">CRAN</th>
<th style="text-align: center;">Posit Public Package Manager (p3m)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{&lt; fa brands windows &gt;}} windows</td>
<td style="text-align: center;"><span class="emoji" data-emoji="white_check_mark">✅</span></td>
<td style="text-align: center;"><span class="emoji" data-emoji="white_check_mark">✅</span></td>
</tr>
<tr class="even">
<td>{{&lt; fa brands apple &gt;}} mac OS</td>
<td style="text-align: center;"><span class="emoji" data-emoji="white_check_mark">✅</span></td>
<td style="text-align: center;"><span class="emoji" data-emoji="white_check_mark">✅</span></td>
</tr>
<tr class="odd">
<td>{{&lt; fa brands linux &gt;}} linux</td>
<td style="text-align: center;"><span class="emoji" data-emoji="x">❌</span></td>
<td style="text-align: center;"><span class="emoji" data-emoji="white_check_mark">✅</span></td>
</tr>
</tbody>
</table>
</section>
<section id="are-binaries-available" class="slide level2">
<h2>are binaries available?</h2>
</section>
<section id="cran" class="slide level2">
<h2>CRAN</h2>

<img data-src="img/connectapi-cran-binary-highlight.png" class="r-stretch"></section>
<section id="may-not-be-the-latest" class="slide level2">
<h2>may not be the latest</h2>

<img data-src="img/parallelly-versions-highlight.png" class="r-stretch"></section>
<section id="may-not-be-the-latest-1" class="slide level2">
<h2>may not be the latest</h2>

<img data-src="img/compile-from-sources-question.png" class="r-stretch"></section>
<section id="may-not-be-the-latest-2" class="slide level2">
<h2>may not be the latest</h2>
<div class="sourceCode" id="cb4" data-code-line-numbers="6-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="sc">&gt;</span> <span class="fu">install.packages</span>(<span class="st">"parallelly"</span>, <span class="at">repos =</span> <span class="st">"https://cran.r-project.org"</span>)</span>
<span id="cb4-2"><a></a></span>
<span id="cb4-3"><a></a>Installing package into ‘C<span class="sc">:</span><span class="er">/</span>Users<span class="sc">/</span>WDAGUtilityAccount<span class="sc">/</span>Documents<span class="sc">/</span>R<span class="sc">/</span>win<span class="sc">-</span>library<span class="sc">/</span><span class="fl">4.0</span>’</span>
<span id="cb4-4"><a></a>(as ‘lib’ is unspecified)</span>
<span id="cb4-5"><a></a></span>
<span id="cb4-6"><a></a>  There is a binary version available but the source version is later<span class="sc">:</span></span>
<span id="cb4-7"><a></a>           binary source needs_compilation</span>
<span id="cb4-8"><a></a>parallelly <span class="dv">1</span>.<span class="fl">31.0</span> <span class="dv">1</span>.<span class="fl">32.1</span>             <span class="cn">FALSE</span></span>
<span id="cb4-9"><a></a></span>
<span id="cb4-10"><a></a>installing the source package ‘parallelly’</span>
<span id="cb4-11"><a></a></span>
<span id="cb4-12"><a></a>trying URL <span class="st">'https://cran.r-project.org/src/contrib/parallelly_1.32.1.tar.gz'</span></span>
<span id="cb4-13"><a></a>Content type <span class="st">'application/x-gzip'</span> length <span class="dv">124853</span> <span class="fu">bytes</span> (<span class="dv">121</span> KB)</span>
<span id="cb4-14"><a></a>downloaded <span class="dv">121</span> KB</span>
<span id="cb4-15"><a></a></span>
<span id="cb4-16"><a></a><span class="sc">*</span> installing <span class="sc">*</span>source<span class="sc">*</span> package <span class="st">'parallelly'</span> ...</span>
<span id="cb4-17"><a></a><span class="sc">**</span> package <span class="st">'parallelly'</span> successfully unpacked and MD5 sums checked</span>
<span id="cb4-18"><a></a><span class="sc">**</span> using staged installation</span>
<span id="cb4-19"><a></a><span class="sc">**</span> R</span>
<span id="cb4-20"><a></a><span class="sc">**</span> inst</span>
<span id="cb4-21"><a></a><span class="sc">**</span> byte<span class="sc">-</span>compile and prepare package <span class="cf">for</span> lazy loading</span>
<span id="cb4-22"><a></a><span class="sc">**</span> help</span>
<span id="cb4-23"><a></a><span class="sc">**</span><span class="er">*</span> installing help indices</span>
<span id="cb4-24"><a></a>  converting help <span class="cf">for</span> package <span class="st">'parallelly'</span></span>
<span id="cb4-25"><a></a>    finding HTML links ... done</span>
<span id="cb4-26"><a></a>    as.cluster                              html  </span>
<span id="cb4-27"><a></a>    autoStopCluster                         html  </span>
<span id="cb4-28"><a></a>    availableConnections                    html  </span>
<span id="cb4-29"><a></a>    availableCores                          html  </span>
<span id="cb4-30"><a></a>    availableWorkers                        html  </span>
<span id="cb4-31"><a></a>    canPortBeUsed                           html  </span>
<span id="cb4-32"><a></a>    cpuLoad                                 html  </span>
<span id="cb4-33"><a></a>    find_rshcmd                             html  </span>
<span id="cb4-34"><a></a>    freeCores                               html  </span>
<span id="cb4-35"><a></a>    freePort                                html  </span>
<span id="cb4-36"><a></a>    getOption2                              html  </span>
<span id="cb4-37"><a></a>    isConnectionValid                       html  </span>
<span id="cb4-38"><a></a>    isForkedChild                           html  </span>
<span id="cb4-39"><a></a>    isForkedNode                            html  </span>
<span id="cb4-40"><a></a>    isLocalhostNode                         html  </span>
<span id="cb4-41"><a></a>    isNodeAlive                             html  </span>
<span id="cb4-42"><a></a>    makeClusterMPI                          html  </span>
<span id="cb4-43"><a></a>    makeClusterPSOCK                        html  </span>
<span id="cb4-44"><a></a>    parallelly.options                      html  </span>
<span id="cb4-45"><a></a>    pid_exists                              html  </span>
<span id="cb4-46"><a></a>    supportsMulticore                       html  </span>
<span id="cb4-47"><a></a><span class="sc">**</span><span class="er">*</span> copying figures</span>
<span id="cb4-48"><a></a><span class="sc">**</span> building package indices</span>
<span id="cb4-49"><a></a><span class="sc">**</span> testing <span class="cf">if</span> installed package can be loaded from temporary location</span>
<span id="cb4-50"><a></a><span class="sc">**</span><span class="er">*</span> arch <span class="sc">-</span> i386</span>
<span id="cb4-51"><a></a><span class="sc">**</span><span class="er">*</span> arch <span class="sc">-</span> x64</span>
<span id="cb4-52"><a></a><span class="sc">**</span> testing <span class="cf">if</span> installed package can be loaded from final location</span>
<span id="cb4-53"><a></a><span class="sc">**</span><span class="er">*</span> arch <span class="sc">-</span> i386</span>
<span id="cb4-54"><a></a><span class="sc">**</span><span class="er">*</span> arch <span class="sc">-</span> x64</span>
<span id="cb4-55"><a></a><span class="sc">**</span> testing <span class="cf">if</span> installed package keeps a record of temporary installation path</span>
<span id="cb4-56"><a></a><span class="sc">*</span> <span class="fu">DONE</span> (parallelly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="posit-public-package-manager" class="slide level2">
<h2><a href="https://p3m.dev">Posit Public Package Manager</a></h2>

<img data-src="img/ppm-binaries.png" class="r-stretch"></section>
<section id="ppm" class="slide level2">
<h2>PPM</h2>

<img data-src="img/rspm-binaries-zoom-highlight.png" class="r-stretch"></section>
<section id="how-do-i-know-i-got-a-binary" class="slide level2">
<h2>how do I know I got a binary?</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">CRAN {{&lt; fa brands windows &gt;}}</a></li><li><a href="#tabset-2-2">CRAN {{&lt; fa brands apple &gt;}}</a></li><li><a href="#tabset-2-3">p3m</a></li><li><a href="#tabset-2-4">renv</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="sourceCode" id="cb5" data-code-line-numbers="5,10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a><span class="sc">&gt;</span> <span class="fu">install.packages</span>(<span class="st">"parallelly"</span>, <span class="at">repos =</span> <span class="st">"https://cran.r-project.org"</span>)</span>
<span id="cb5-2"><a></a>Installing package into ‘C<span class="sc">:</span><span class="er">/</span>Users<span class="sc">/</span>edavi<span class="sc">/</span>Documents<span class="sc">/</span>R<span class="sc">/</span>win<span class="sc">-</span>library<span class="sc">/</span><span class="fl">4.1</span>’</span>
<span id="cb5-3"><a></a>(as ‘lib’ is unspecified)</span>
<span id="cb5-4"><a></a>trying URL <span class="st">'https://cran.r-project.org/bin/windows/contrib/4.1/parallelly_1.32.1.zip'</span></span>
<span id="cb5-5"><a></a>Content type <span class="st">'application/zip'</span> length <span class="dv">306137</span> <span class="fu">bytes</span> (<span class="dv">298</span> KB)</span>
<span id="cb5-6"><a></a>downloaded <span class="dv">298</span> KB</span>
<span id="cb5-7"><a></a></span>
<span id="cb5-8"><a></a>package ‘parallelly’ successfully unpacked and MD5 sums checked</span>
<span id="cb5-9"><a></a></span>
<span id="cb5-10"><a></a>The downloaded binary packages are <span class="cf">in</span></span>
<span id="cb5-11"><a></a>    C<span class="sc">:</span>\Users\edavi\AppData\Local\Temp\Rtmpa2s3e8\downloaded_packages</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-2">
<div class="sourceCode" id="cb6" data-code-line-numbers="4,10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="sc">&gt;</span> <span class="fu">install.packages</span>(<span class="st">"renv"</span>, <span class="at">repos=</span><span class="st">"https://cran.r-project.org"</span>)</span>
<span id="cb6-2"><a></a>Installing package into ‘<span class="sc">/</span>Users<span class="sc">/</span>edavidaja<span class="sc">/</span>Library<span class="sc">/</span>R<span class="sc">/</span>x86_64<span class="sc">/</span><span class="fl">4.1</span><span class="sc">/</span>library’</span>
<span id="cb6-3"><a></a>(as ‘lib’ is unspecified)</span>
<span id="cb6-4"><a></a>trying URL <span class="st">'https://cran.r-project.org/bin/macosx/contrib/4.1/renv_0.15.5.tgz'</span></span>
<span id="cb6-5"><a></a>Content type <span class="st">'application/x-gzip'</span> length <span class="dv">1866760</span> <span class="fu">bytes</span> (<span class="fl">1.8</span> MB)</span>
<span id="cb6-6"><a></a><span class="sc">==</span><span class="er">================================================</span></span>
<span id="cb6-7"><a></a>downloaded <span class="fl">1.8</span> MB</span>
<span id="cb6-8"><a></a></span>
<span id="cb6-9"><a></a></span>
<span id="cb6-10"><a></a>The downloaded binary packages are <span class="cf">in</span></span>
<span id="cb6-11"><a></a> <span class="sc">/</span>var<span class="sc">/</span>folders<span class="sc">/</span>b5<span class="sc">/</span>fl4ff68d23s148tg1_1gnflc0000gn<span class="sc">/</span>T<span class="sc">/</span><span class="er">/</span>RtmpMk69B0<span class="sc">/</span>downloaded_packages</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-3">
<div class="sourceCode" id="cb7" data-code-line-numbers="10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="sc">&gt;</span> <span class="fu">install.packages</span>(<span class="st">"remotes"</span>)</span>
<span id="cb7-2"><a></a>Installing package into ‘C<span class="sc">:</span><span class="er">/</span>Users<span class="sc">/</span>WDAGUtilityAccount<span class="sc">/</span>AppData<span class="sc">/</span>Local<span class="sc">/</span>R<span class="sc">/</span>win<span class="sc">-</span>library<span class="sc">/</span><span class="fl">4.2</span>’</span>
<span id="cb7-3"><a></a>(as ‘lib’ is unspecified)</span>
<span id="cb7-4"><a></a>trying URL <span class="st">'https://p3m.dev/cran/latest/bin/windows/contrib/4.2/remotes_2.4.2.zip'</span></span>
<span id="cb7-5"><a></a>Content type <span class="st">'binary/octet-stream'</span> length <span class="dv">399930</span> <span class="fu">bytes</span> (<span class="dv">390</span> KB)</span>
<span id="cb7-6"><a></a>downloaded <span class="dv">390</span> KB</span>
<span id="cb7-7"><a></a></span>
<span id="cb7-8"><a></a>package ‘remotes’ successfully unpacked and MD5 sums checked</span>
<span id="cb7-9"><a></a></span>
<span id="cb7-10"><a></a>The downloaded binary packages are <span class="cf">in</span></span>
<span id="cb7-11"><a></a>  C<span class="sc">:</span>\Users\WDAGUtilityAccount\AppData\Local\Temp\RtmpA1edRi\downloaded_packages</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-2-4">
<div class="sourceCode" id="cb8" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="sc">&gt;</span> renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"fs"</span>)</span>
<span id="cb8-2"><a></a>Retrieving <span class="st">'https://p3m.dev/cran/latest/bin/windows/contrib/4.2/fs_1.5.2.zip'</span> ...</span>
<span id="cb8-3"><a></a>  OK [downloaded <span class="fl">380.9</span> Kb <span class="cf">in</span> <span class="fl">0.5</span> secs]</span>
<span id="cb8-4"><a></a>Installing fs [<span class="dv">1</span>.<span class="fl">5.2</span>] ...</span>
<span id="cb8-5"><a></a>  OK [installed binary]</span>
<span id="cb8-6"><a></a>Moving fs [<span class="dv">1</span>.<span class="fl">5.2</span>] into the cache ...</span>
<span id="cb8-7"><a></a>  OK [moved to cache <span class="cf">in</span> <span class="fl">7.4</span> milliseconds]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="pop-quiz-hotshot" class="slide level2">
<h2>pop quiz, hotshot</h2>
<div class="question">
<p>Does <a href="https://p3m.dev">Posit Public Package Manager</a> serve a binary of <code>dplyr</code> for R 3.6?</p>
</div>
{{&lt; countdown "2:00" &gt;}}
</section>
<section id="source" class="slide level2">
<h2>Source</h2>
<ul>
<li>compiled in <em>your</em> environment</li>
<li>requires extra tools when package uses C, C++, Fortran, Rust, etc.</li>
</ul>
<aside class="notes">
<ul>
<li>most common reason to install from source is when you want the development version of a package from github One additional complication for *nix users:</li>
<li>generally on windows can install and load packages that depend on other lower level libraries quite easily. Explain installing <code>sf</code>, for example.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="if-you-dont-have-tools" class="slide level2">
<h2>if you don’t have tools</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1"><code>make</code></a></li><li><a href="#tabset-3-2"><code>g++</code></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="sourceCode" id="cb9" data-code-line-numbers="11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a></a>Running <span class="st">`</span><span class="at">R CMD build</span><span class="st">`</span>...</span>
<span id="cb9-2"><a></a><span class="sc">*</span> checking <span class="cf">for</span> file <span class="st">'C:\Users\WDAGUtilityAccount\AppData\Local\Temp\RtmpkTUH61</span><span class="sc">\r</span><span class="st">emotes192027624804</span><span class="sc">\t</span><span class="st">idyverse-dplyr-36ef054/DESCRIPTION'</span> ... OK</span>
<span id="cb9-3"><a></a><span class="sc">*</span> preparing <span class="st">'dplyr'</span><span class="sc">:</span></span>
<span id="cb9-4"><a></a><span class="er">*</span> checking DESCRIPTION meta<span class="sc">-</span>information ... OK</span>
<span id="cb9-5"><a></a><span class="sc">*</span> cleaning src</span>
<span id="cb9-6"><a></a><span class="sc">*</span> installing the package to process help pages</span>
<span id="cb9-7"><a></a>      <span class="sc">-----------------------------------</span></span>
<span id="cb9-8"><a></a><span class="er">*</span> installing <span class="sc">*</span>source<span class="sc">*</span> package <span class="st">'dplyr'</span> ...</span>
<span id="cb9-9"><a></a><span class="sc">**</span> using staged installation</span>
<span id="cb9-10"><a></a><span class="sc">**</span> libs</span>
<span id="cb9-11"><a></a>Warning <span class="cf">in</span> <span class="fu">system</span>(cmd) <span class="sc">:</span> <span class="st">'make'</span> not found</span>
<span id="cb9-12"><a></a>ERROR<span class="sc">:</span> compilation failed <span class="cf">for</span> package <span class="st">'dplyr'</span></span>
<span id="cb9-13"><a></a><span class="sc">*</span> removing <span class="st">'C:/Users/WDAGUT~1/AppData/Local/Temp/Rtmp6hYuyV/Rinst1334d1a23d1/dplyr'</span></span>
<span id="cb9-14"><a></a>      <span class="sc">-----------------------------------</span></span>
<span id="cb9-15"><a></a>ERROR<span class="sc">:</span> package installation failed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-3-2">
<div class="sourceCode" id="cb10" data-code-line-numbers="7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a>Warning <span class="cf">in</span> <span class="fu">untar2</span>(tarfile, files, list, exdir, restore_times) <span class="sc">:</span></span>
<span id="cb10-2"><a></a>  skipping pax global extended headers</span>
<span id="cb10-3"><a></a><span class="sc">*</span> installing <span class="sc">*</span>source<span class="sc">*</span> package <span class="st">'dplyr'</span> ...</span>
<span id="cb10-4"><a></a><span class="sc">**</span> using staged installation</span>
<span id="cb10-5"><a></a><span class="sc">**</span> libs</span>
<span id="cb10-6"><a></a>c<span class="sc">:</span><span class="er">/</span>Rtools<span class="sc">/</span>mingw_64<span class="sc">/</span>bin<span class="sc">/</span>g<span class="sc">++</span> <span class="sc">-</span>std<span class="ot">=</span>gnu<span class="sc">++</span><span class="dv">11</span>  <span class="sc">-</span>I<span class="st">"C:/PROGRA~1/R/R-36~1.3/include"</span> <span class="sc">-</span>DNDEBUG          <span class="sc">-</span>O2 <span class="sc">-</span>Wall  <span class="sc">-</span>mtune<span class="ot">=</span>core2 <span class="sc">-</span>c filter.cpp <span class="sc">-</span>o filter.o</span>
<span id="cb10-7"><a></a>sh<span class="sc">:</span> line <span class="dv">1</span><span class="sc">:</span> c<span class="sc">:</span><span class="er">/</span>Rtools<span class="sc">/</span>mingw_64<span class="sc">/</span>bin<span class="sc">/</span>g<span class="sc">++</span><span class="er">:</span> No such file or directory</span>
<span id="cb10-8"><a></a>make<span class="sc">:</span> <span class="er">***</span> [C<span class="sc">:</span><span class="er">/</span>PROGRA<span class="sc">~</span><span class="dv">1</span><span class="sc">/</span>R<span class="sc">/</span>R<span class="dv">-36</span><span class="sc">~</span><span class="fl">1.3</span><span class="sc">/</span>etc<span class="sc">/</span>x64<span class="sc">/</span>Makeconf<span class="sc">:</span><span class="dv">215</span><span class="sc">:</span> filter.o] Error <span class="dv">127</span></span>
<span id="cb10-9"><a></a>ERROR<span class="sc">:</span> compilation failed <span class="cf">for</span> package <span class="st">'dplyr'</span></span>
<span id="cb10-10"><a></a><span class="sc">*</span> removing <span class="st">'C:/Users/edavi/DOCUME~1/projects/WTF-PR~1/renv/staging/1/dplyr'</span></span>
<span id="cb10-11"><a></a>Error<span class="sc">:</span> install of package <span class="st">'dplyr'</span> failed</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="how-to-get-the-tools" class="slide level2">
<h2>how to get the tools</h2>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">windows {{&lt; fa brands windows &gt;}}</a></li><li><a href="#tabset-4-2">macOS {{&lt; fa brands apple &gt;}}</a></li><li><a href="#tabset-4-3">linux {{&lt; fa brands linux &gt;}}</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<p><a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a></p>
</div>
<div id="tabset-4-2">
<p><a href="https://apps.apple.com/us/app/xcode/id497799835?mt=12">XCode</a></p>
<p><span class="emoji" data-emoji="warning">⚠️</span> don’t run right now</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a aria-hidden="true" tabindex="-1"></a><span class="ex">xcode-select</span> <span class="at">--install</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-4-3">
<p>install tools via package manager, e.g.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a></a><span class="ex">apt</span> install make</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="got-tools" class="slide level2">
<h2>got tools?</h2>
<div class="r r-fit-text">
<p><code>devtools::has_devel()</code></p>
</div>
<blockquote>
<p><code>## Your system is ready to build packages!</code></p>
</blockquote>
</section>
<section id="system-dependencies" class="slide level2">
<h2>system dependencies</h2>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">xml2</a></li><li><a href="#tabset-5-2"><code>openssl</code></a></li><li><a href="#tabset-5-3"><code>units</code></a></li><li><a href="#tabset-5-4"><code>gdal</code></a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div class="sourceCode" id="cb13" data-code-line-numbers="15-18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="sc">*</span> installing <span class="sc">*</span>source<span class="sc">*</span> package ‘xml2’ ...</span>
<span id="cb13-2"><a></a><span class="sc">**</span> package ‘xml2’ successfully unpacked and MD5 sums checked</span>
<span id="cb13-3"><a></a><span class="sc">**</span> using staged installation</span>
<span id="cb13-4"><a></a>Package libxml<span class="fl">-2.0</span> was not found <span class="cf">in</span> the pkg<span class="sc">-</span>config search path.</span>
<span id="cb13-5"><a></a>Perhaps you should add the directory containing <span class="st">`</span><span class="at">libxml-2.0.pc'</span></span>
<span id="cb13-6"><a></a><span class="at">to the PKG_CONFIG_PATH environment variable</span></span>
<span id="cb13-7"><a></a><span class="at">Package 'libxml-2.0', required by 'virtual:world', not found</span></span>
<span id="cb13-8"><a></a><span class="at">Package libxml-2.0 was not found in the pkg-config search path.</span></span>
<span id="cb13-9"><a></a><span class="at">Perhaps you should add the directory containing </span><span class="st">`</span>libxml<span class="dv">-2</span>.<span class="fl">0.</span>pc<span class="st">'</span></span>
<span id="cb13-10"><a></a><span class="st">to the PKG_CONFIG_PATH environment variable</span></span>
<span id="cb13-11"><a></a><span class="st">Package '</span>libxml<span class="fl">-2.0</span><span class="st">', required by '</span>virtual<span class="sc">:</span>world<span class="st">', not found</span></span>
<span id="cb13-12"><a></a><span class="st">Using PKG_CFLAGS=</span></span>
<span id="cb13-13"><a></a><span class="st">Using PKG_LIBS=-lxml2</span></span>
<span id="cb13-14"><a></a><span class="st">------------------------- ANTICONF ERROR ---------------------------</span></span>
<span id="cb13-15"><a></a><span class="st">Configuration failed because libxml-2.0 was not found. Try installing:</span></span>
<span id="cb13-16"><a></a><span class="st"> * deb: libxml2-dev (Debian, Ubuntu, etc)</span></span>
<span id="cb13-17"><a></a><span class="st"> * rpm: libxml2-devel (Fedora, CentOS, RHEL)</span></span>
<span id="cb13-18"><a></a><span class="st"> * csw: libxml2_dev (Solaris)</span></span>
<span id="cb13-19"><a></a><span class="st">If libxml-2.0 is already installed, check that '</span>pkg<span class="sc">-</span>config<span class="st">' is in your</span></span>
<span id="cb13-20"><a></a><span class="st">PATH and PKG_CONFIG_PATH contains a libxml-2.0.pc file. If pkg-config</span></span>
<span id="cb13-21"><a></a><span class="st">is unavailable you can set INCLUDE_DIR and LIB_DIR manually via:</span></span>
<span id="cb13-22"><a></a><span class="st">R CMD INSTALL --configure-vars='</span>INCLUDE_DIR<span class="ot">=</span>... LIB_DIR<span class="ot">=</span>...<span class="st">'</span></span>
<span id="cb13-23"><a></a><span class="st">--------------------------------------------------------------------</span></span>
<span id="cb13-24"><a></a><span class="st">ERROR: configuration failed for package ‘xml2’</span></span>
<span id="cb13-25"><a></a><span class="st">* removing ‘/usr/local/lib/R/site-library/xml2’</span></span>
<span id="cb13-26"><a></a></span>
<span id="cb13-27"><a></a><span class="st">The downloaded source packages are in</span></span>
<span id="cb13-28"><a></a><span class="st">    ‘/tmp/Rtmp9JMc7F/downloaded_packages’</span></span>
<span id="cb13-29"><a></a><span class="st">Warning message:</span></span>
<span id="cb13-30"><a></a><span class="st">In install.packages("xml2") :</span></span>
<span id="cb13-31"><a></a><span class="st">  installation of package ‘xml2’ had non-zero exit status</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-2">
<div class="sourceCode" id="cb14" data-code-line-numbers="6-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a><span class="sc">*</span> installing <span class="sc">*</span>source<span class="sc">*</span> package ‘s2’ ...</span>
<span id="cb14-2"><a></a><span class="sc">**</span> package ‘s2’ successfully unpacked and MD5 sums checked</span>
<span id="cb14-3"><a></a><span class="sc">**</span> using staged installation</span>
<span id="cb14-4"><a></a>Testing compiler using PKG_CFLAGS<span class="ot">=</span></span>
<span id="cb14-5"><a></a><span class="sc">---------------------------</span> [ANTICONF] <span class="sc">--------------------------------</span></span>
<span id="cb14-6"><a></a>Configuration failed because openssl was not found. Try installing<span class="sc">:</span></span>
<span id="cb14-7"><a></a> <span class="er">*</span> deb<span class="sc">:</span> libssl<span class="sc">-</span><span class="fu">dev</span> (Debian, Ubuntu, etc)</span>
<span id="cb14-8"><a></a> <span class="sc">*</span> rpm<span class="sc">:</span> openssl<span class="sc">-</span><span class="fu">devel</span> (Fedora, CentOS, RHEL)</span>
<span id="cb14-9"><a></a> <span class="sc">*</span> csw<span class="sc">:</span> <span class="fu">libssl_dev</span> (Solaris)</span>
<span id="cb14-10"><a></a> <span class="sc">*</span> brew<span class="sc">:</span> openssl<span class="sc">@</span><span class="fl">1.1</span> (Mac OSX)</span>
<span id="cb14-11"><a></a>If openssl is already installed, check that <span class="st">'pkg-config'</span> is <span class="cf">in</span> your</span>
<span id="cb14-12"><a></a>PATH and PKG_CONFIG_PATH contains a openssl.pc file. If pkg<span class="sc">-</span>config</span>
<span id="cb14-13"><a></a>is unavailable you can set INCLUDE_DIR and LIB_DIR manually via<span class="sc">:</span></span>
<span id="cb14-14"><a></a>R CMD INSTALL <span class="sc">--</span>configure<span class="sc">-</span>vars<span class="ot">=</span><span class="st">'INCLUDE_DIR=... LIB_DIR=...'</span></span>
<span id="cb14-15"><a></a><span class="sc">--------------------------</span> [ERROR MESSAGE] <span class="sc">---------------------------</span></span>
<span id="cb14-16"><a></a>tools<span class="sc">/</span>version.c<span class="sc">:</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span><span class="sc">:</span> fatal error<span class="sc">:</span> openssl<span class="sc">/</span>opensslv.h<span class="sc">:</span> No such file or directory</span>
<span id="cb14-17"><a></a>    <span class="dv">1</span> <span class="sc">|</span> <span class="co">#include &lt;openssl/opensslv.h&gt;</span></span>
<span id="cb14-18"><a></a>      <span class="er">|</span>          <span class="er">^~~~~~~~~~~~~~~~~~~~</span></span>
<span id="cb14-19"><a></a>compilation terminated.</span>
<span id="cb14-20"><a></a><span class="sc">--------------------------------------------------------------------</span></span>
<span id="cb14-21"><a></a>ERROR<span class="sc">:</span> configuration failed <span class="cf">for</span> package ‘s2’</span>
<span id="cb14-22"><a></a><span class="sc">*</span> removing ‘<span class="sc">/</span>usr<span class="sc">/</span>local<span class="sc">/</span>lib<span class="sc">/</span>R<span class="sc">/</span>site<span class="sc">-</span>library<span class="sc">/</span>s2’</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-3">
<div class="sourceCode" id="cb15" data-code-line-numbers="8-11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a><span class="sc">*</span> installing <span class="sc">*</span>source<span class="sc">*</span> package ‘units’ ...</span>
<span id="cb15-2"><a></a><span class="sc">**</span> package ‘units’ successfully unpacked and MD5 sums checked</span>
<span id="cb15-3"><a></a><span class="sc">**</span> using staged installation</span>
<span id="cb15-4"><a></a>configure<span class="sc">:</span> units<span class="sc">:</span> <span class="fl">0.8</span><span class="dv">-5</span></span>
<span id="cb15-5"><a></a>...</span>
<span id="cb15-6"><a></a>configure<span class="sc">:</span> error<span class="sc">:</span></span>
<span id="cb15-7"><a></a><span class="sc">--------------------------------------------------------------------------------</span></span>
<span id="cb15-8"><a></a>  Configuration failed because libudunits2.so was not found. Try installing<span class="sc">:</span></span>
<span id="cb15-9"><a></a>    <span class="er">*</span> deb<span class="sc">:</span> libudunits2<span class="sc">-</span><span class="fu">dev</span> (Debian, Ubuntu, ...)</span>
<span id="cb15-10"><a></a>    <span class="sc">*</span> rpm<span class="sc">:</span> udunits2<span class="sc">-</span><span class="fu">devel</span> (Fedora, EPEL, ...)</span>
<span id="cb15-11"><a></a>    <span class="sc">*</span> brew<span class="sc">:</span> <span class="fu">udunits</span> (OSX)</span>
<span id="cb15-12"><a></a>  If udunits2 is already installed <span class="cf">in</span> a non<span class="sc">-</span>standard location, use<span class="sc">:</span></span>
<span id="cb15-13"><a></a>    <span class="sc">--</span>configure<span class="sc">-</span>args<span class="ot">=</span><span class="st">'--with-udunits2-lib=/usr/local/lib'</span></span>
<span id="cb15-14"><a></a>  <span class="cf">if</span> the library was not found, and<span class="sc">/</span>or<span class="sc">:</span></span>
<span id="cb15-15"><a></a>    <span class="sc">--</span>configure<span class="sc">-</span>args<span class="ot">=</span><span class="st">'--with-udunits2-include=/usr/include/udunits2'</span></span>
<span id="cb15-16"><a></a>  <span class="cf">if</span> the header was not found, replacing paths with appropriate values.</span>
<span id="cb15-17"><a></a>  You can alternatively set UDUNITS2_INCLUDE and UDUNITS2_LIBS manually.</span>
<span id="cb15-18"><a></a><span class="sc">--------------------------------------------------------------------------------</span></span>
<span id="cb15-19"><a></a></span>
<span id="cb15-20"><a></a>See <span class="st">`</span><span class="at">config.log' for more details</span></span>
<span id="cb15-21"><a></a><span class="at">ERROR: configuration failed for package ‘units’</span></span>
<span id="cb15-22"><a></a><span class="at">* removing ‘/usr/local/lib/R/site-library/units’</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-5-4">
<div class="sourceCode" id="cb16" data-code-line-numbers="6-9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a><span class="sc">*</span> installing <span class="sc">*</span>source<span class="sc">*</span> package ‘sf’ ...</span>
<span id="cb16-2"><a></a><span class="sc">**</span> package ‘sf’ successfully unpacked and MD5 sums checked</span>
<span id="cb16-3"><a></a><span class="sc">**</span> using staged installation</span>
<span id="cb16-4"><a></a>configure<span class="sc">:</span> CC<span class="sc">:</span> gcc</span>
<span id="cb16-5"><a></a>configure<span class="sc">:</span> CXX<span class="sc">:</span> g<span class="sc">++</span> <span class="sc">-</span>std<span class="ot">=</span>gnu<span class="sc">++</span><span class="dv">17</span></span>
<span id="cb16-6"><a></a>checking <span class="cf">for</span> gdal<span class="sc">-</span>config... no</span>
<span id="cb16-7"><a></a>no</span>
<span id="cb16-8"><a></a>configure<span class="sc">:</span> error<span class="sc">:</span> gdal<span class="sc">-</span>config not found or not executable.</span>
<span id="cb16-9"><a></a>ERROR<span class="sc">:</span> configuration failed <span class="cf">for</span> package ‘sf’</span>
<span id="cb16-10"><a></a><span class="sc">*</span> removing ‘<span class="sc">/</span>usr<span class="sc">/</span>local<span class="sc">/</span>lib<span class="sc">/</span>R<span class="sc">/</span>site<span class="sc">-</span>library<span class="sc">/</span>sf’</span>
<span id="cb16-11"><a></a></span>
<span id="cb16-12"><a></a>The downloaded source packages are <span class="cf">in</span></span>
<span id="cb16-13"><a></a>    ‘<span class="sc">/</span>tmp<span class="sc">/</span>Rtmp8bqjb0<span class="sc">/</span>downloaded_packages’</span>
<span id="cb16-14"><a></a>Warning message<span class="sc">:</span></span>
<span id="cb16-15"><a></a>In <span class="fu">install.packages</span>(<span class="st">"sf"</span>) <span class="sc">:</span></span>
<span id="cb16-16"><a></a>  installation of package ‘sf’ had non<span class="sc">-</span>zero exit status</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="bonus-complication" class="slide level2">
<h2>bonus complication</h2>
<p>runtime dependencies</p>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1"><span class="emoji" data-emoji="white_check_mark">✅</span></a></li><li><a href="#tabset-6-2"><span class="emoji" data-emoji="x">❌</span></a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<div class="sourceCode" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a><span class="sc">&gt;</span> <span class="fu">library</span>(sf)</span>
<span id="cb17-2"><a></a>Linking to GEOS <span class="dv">3</span>.<span class="fl">12.2</span>, GDAL <span class="dv">3</span>.<span class="fl">9.1</span>, PROJ <span class="dv">9</span>.<span class="fl">4.1</span>; <span class="fu">sf_use_s2</span>() is <span class="cn">TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-6-2">
<div class="sourceCode" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a>The downloaded source packages are <span class="cf">in</span></span>
<span id="cb18-2"><a></a>    ‘<span class="sc">/</span>tmp<span class="sc">/</span>RtmpIvTerY<span class="sc">/</span>downloaded_packages’</span>
<span id="cb18-3"><a></a><span class="sc">&gt;</span> <span class="fu">library</span>(sf)</span>
<span id="cb18-4"><a></a>Error<span class="sc">:</span> package or namespace load failed <span class="cf">for</span> ‘sf’ <span class="cf">in</span> <span class="fu">dyn.load</span>(file, <span class="at">DLLpath =</span> DLLpath, ...)<span class="sc">:</span></span>
<span id="cb18-5"><a></a> unable to load shared object <span class="st">'/usr/local/lib/R/site-library/units/libs/units.so'</span><span class="sc">:</span></span>
<span id="cb18-6"><a></a>  libudunits2.so<span class="fl">.0</span><span class="sc">:</span> cannot open shared object file<span class="sc">:</span> No such file or directory</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="which-sysdeps" class="slide level2">
<h2>which sysdeps?</h2>

<img data-src="img/p3m-sysdeps.png" class="r-stretch"></section>
<section id="activity-1" class="slide level2">
<h2>activity</h2>
<div class="question">
<p>install a package from r-universe</p>
</div>
<div class="small">
<ol type="1">
<li><p>open the <code>wtf-explore-libraries</code> project from earlier</p></li>
<li><p><code>install.packages("gitcellar")</code> # not on cran!</p></li>
<li><p>update your project <code>.Rprofile</code>:<br>
<code>usethis::edit_r_profile(scope = "project")</code></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repos =</span> <span class="fu">c</span>(</span>
<span id="cb19-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="at">ropensci =</span> <span class="st">"https://ropensci.r-universe.dev"</span>,</span>
<span id="cb19-3"><a aria-hidden="true" tabindex="-1"></a>  <span class="at">CRAN =</span> <span class="st">"https://cloud.r-project.org"</span>, <span class="co"># macOS</span></span>
<span id="cb19-4"><a aria-hidden="true" tabindex="-1"></a>  <span class="at">P3M =</span> <span class="st">"https://p3m.dev/cran/latest"</span> <span class="co"># windows</span></span>
<span id="cb19-5"><a aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>save <code>.Rprofile</code> and restart R</p></li>
<li><p><code>install.packages("gitcellar")</code></p></li>
</ol>
</div>
{{&lt; countdown "5:00" &gt;}}
</section>
<section id="discussion" class="slide level2">
<h2>discussion</h2>
<ul>
<li>did you install <code>gitcellar</code> from binary or source?
<ul>
<li>How do you know?</li>
</ul></li>
</ul>
</section>
<section id="wrapping-up-1" class="slide level2">
<h2>wrapping up</h2>
<p>binaries are usually preferred, but for development versions of packages, you may need to install from source.</p>
</section></section>
<section>
<section id="creating-reproducible-environments" class="title-slide slide level1 center">
<h1>creating reproducible environments</h1>

</section>
<section id="why-2" class="slide level2">
<h2>why?</h2>
<p>put some science in <a href="https://www.getdbt.com/coalesce-2021/down-with-data-science">“data science”</a></p>
</section>
<section id="reproducibility-strategies" class="slide level2">
<h2><a href="https://environments.rstudio.com/reproduce">reproducibility strategies</a></h2>

<img data-src="index_admin_files/figure-revealjs/unnamed-chunk-3-1.png" width="960" class="r-stretch"></section>
<section id="reproducibility-strategies-1" class="slide level2" data-transition="none">
<h2><a href="https://environments.rstudio.com/reproduce">reproducibility strategies</a></h2>

<img data-src="index_admin_files/figure-revealjs/unnamed-chunk-4-1.png" width="960" class="r-stretch"><aside class="notes">
<p>we’re focused in particular on systems where we have both access and responsibility</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="tools" class="slide level2">
<h2>tools</h2>
<div class="columns">
<div class="column">
<h3 id="p3m-1">p3m</h3>
<div class="r-stack">
<img data-src="img/icon-rspm.png" class="r-stretch">
</div>
</div><div class="column">
<h3 id="renv-1">renv</h3>
<div class="r-stack">
<img data-src="img/renv-small.png" class="r-stretch">
</div>
</div></div>
<aside class="notes">
<p>renv has a number of tools that are helpful for adopting a project-based workflow: - lockfile records what packages you use and where you instaled them from - <code>renv::install()</code> can handle installation from remote sources, local sources, package versions, bioconductor, rspm - per-project library isolation with global package cache - makes it easy to install experimental versions of packages and then roll back to a stable release if it doesn’t work out</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="p3m-2" class="slide level2">
<h2>p3m</h2>
<div class="r-stack">
<img data-src="img/icon-rspm.png" class="r-stretch">
</div>
</section>
<section id="p3m-latest" class="slide level2">
<h2>p3m: latest</h2>

<img data-src="img/p3m-latest.png" class="r-stretch"></section>
<section id="p3m-date-based-snapshots" class="slide level2">
<h2>p3m: date-based snapshots</h2>

<img data-src="img/rspm-2021-03-31-highlight.png" class="r-stretch"></section>
<section id="activity-2" class="slide level2">
<h2>activity</h2>
<div class="question">
<p>time travel!</p>
</div>
<ol type="1">
<li><p>open the <code>wtf-explore-libraries</code> project</p></li>
<li><p>run <code>packageVersion("dplyr")</code></p></li>
<li><p>update your project <code>.Rprofile</code> with a date-based snapshot of CRAN</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repos =</span> <span class="fu">c</span>(<span class="at">RSPM =</span> <span class="st">"https://p3m.dev/cran/2022-12-31"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Restart R</p></li>
<li><p><code>install.packages("dplyr")</code></p></li>
</ol>
<p>what version of dplyr did you install?</p>
{{&lt; countdown "5:00" &gt;}}
</section>
<section id="section-2" class="slide level2">
<h2>⏪</h2>
<ul>
<li>remove the repository configuration from your project <code>.Rprofile</code></li>
<li>restart R</li>
<li>reinstall whatever versions of dplyr you were using before</li>
</ul>
<p>if that process seems silly, <span class="emoji" data-emoji="sparkles">✨</span> <a href="https://github.com/edavidaja/you-should-use-renv">you should use <code>renv</code></a> <span class="emoji" data-emoji="sparkles">✨</span></p>
</section>
<section id="renv-2" class="slide level2">
<h2>renv</h2>
<div class="r-stack">
<img data-src="img/renv-small.png" class="r-stretch">
</div>
</section>
<section id="shared-project-environment" class="slide level2">
<h2>shared project environment</h2>
<div data-id="env">
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="0 0 388.90625 174" style="; display: block; margin: auto auto auto auto" class="flowchart" xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="960" id="mermaid-figure-3" height="480">
<style>#mermaid-figure-3{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#ccc;}#mermaid-figure-3 .error-icon{fill:#a44141;}#mermaid-figure-3 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-figure-3 .edge-thickness-normal{stroke-width:1px;}#mermaid-figure-3 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-figure-3 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-figure-3 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-figure-3 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-figure-3 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-figure-3 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-figure-3 .marker.cross{stroke:lightgrey;}#mermaid-figure-3 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-figure-3 p{margin:0;}#mermaid-figure-3 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#mermaid-figure-3 .cluster-label text{fill:#F9FFFE;}#mermaid-figure-3 .cluster-label span{color:#F9FFFE;}#mermaid-figure-3 .cluster-label span p{background-color:transparent;}#mermaid-figure-3 .label text,#mermaid-figure-3 span{fill:#ccc;color:#ccc;}#mermaid-figure-3 .node rect,#mermaid-figure-3 .node circle,#mermaid-figure-3 .node ellipse,#mermaid-figure-3 .node polygon,#mermaid-figure-3 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#mermaid-figure-3 .rough-node .label text,#mermaid-figure-3 .node .label text{text-anchor:middle;}#mermaid-figure-3 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-figure-3 .node .label{text-align:center;}#mermaid-figure-3 .node.clickable{cursor:pointer;}#mermaid-figure-3 .arrowheadPath{fill:lightgrey;}#mermaid-figure-3 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-figure-3 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-figure-3 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-figure-3 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#mermaid-figure-3 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-figure-3 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-figure-3 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-figure-3 .cluster text{fill:#F9FFFE;}#mermaid-figure-3 .cluster span{color:#F9FFFE;}#mermaid-figure-3 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-figure-3 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-figure-3 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker orient="auto" markerheight="8" markerwidth="8" markerunits="userSpaceOnUse" refy="5" refx="5" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629731_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="8" markerwidth="8" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629731_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629731_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629731_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-1749087629731_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-1749087629731_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-1749087629731_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_P1_0" d="M155.988,49.189L138.904,55.491C121.82,61.793,87.652,74.396,70.568,82.781C53.484,91.167,53.484,95.333,53.484,98.833C53.484,102.333,53.484,105.167,53.484,106.583L53.484,108"></path><path marker-end="url(#mermaid-1749087629731_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_P2_1" d="M194.453,62L194.453,66.167C194.453,70.333,194.453,78.667,194.453,84.917C194.453,91.167,194.453,95.333,194.453,98.833C194.453,102.333,194.453,105.167,194.453,106.583L194.453,108"></path><path marker-end="url(#mermaid-1749087629731_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_P3_2" d="M232.918,49.189L250.002,55.491C267.086,61.793,301.254,74.396,318.338,82.781C335.422,91.167,335.422,95.333,335.422,98.833C335.422,102.333,335.422,105.167,335.422,106.583L335.422,108"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel"></span>
</div>
</foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel"></span>
</div>
</foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel"></span>
</div>
</foreignobject></g></g></g><g class="nodes"><g transform="translate(194.453125, 35)" id="flowchart-L-0" class="node default"><rect height="54" width="76.9296875" y="-27" x="-38.46484375" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-23.46484375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="46.9296875">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
library
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(53.484375, 139)" id="flowchart-P1-1" class="node default"><rect height="54" width="90.96875" y="-27" x="-45.484375" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-30.484375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="60.96875">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
project1
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(194.453125, 139)" id="flowchart-P2-3" class="node default"><rect height="54" width="90.96875" y="-27" x="-45.484375" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-30.484375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="60.96875">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
project2
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(335.421875, 139)" id="flowchart-P3-5" class="node default"><rect height="54" width="90.96875" y="-27" x="-45.484375" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-30.484375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="60.96875">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
project3
</p>
</span>
</div>
</foreignobject></g></g></g></g></g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li>by default all of your packages are installed into your user library</li>
<li>the unforunate default behavior in macOS is also that this is the system library</li>
<li>updating a package in the shared environments updates it for <em>all</em> of your projects</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<p><br></p>
<h3 id="libpaths"><code>.libPaths()</code></h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">.libPaths</span>()</span>
<span id="cb21-2"><a aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"C:/Users/edavi/AppData/Local/R/win-library/4.4"</span> <span class="co"># user</span></span>
<span id="cb21-3"><a aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>] <span class="st">"C:/Program Files/R/R-4.4.0/library"</span> <span class="co"># system</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="isolated-project-environments" class="slide level2">
<h2>isolated project environments</h2>
<div data-id="env">
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class=""><p></p>
<div>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="0 0 388.90625 278" style="; display: block; margin: auto auto auto auto" class="flowchart" xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="960" id="mermaid-figure-2" height="480">
<style>#mermaid-figure-2{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#ccc;}#mermaid-figure-2 .error-icon{fill:#a44141;}#mermaid-figure-2 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-figure-2 .edge-thickness-normal{stroke-width:1px;}#mermaid-figure-2 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-figure-2 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-figure-2 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-figure-2 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-figure-2 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-figure-2 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-figure-2 .marker.cross{stroke:lightgrey;}#mermaid-figure-2 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-figure-2 p{margin:0;}#mermaid-figure-2 .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#ccc;}#mermaid-figure-2 .cluster-label text{fill:#F9FFFE;}#mermaid-figure-2 .cluster-label span{color:#F9FFFE;}#mermaid-figure-2 .cluster-label span p{background-color:transparent;}#mermaid-figure-2 .label text,#mermaid-figure-2 span{fill:#ccc;color:#ccc;}#mermaid-figure-2 .node rect,#mermaid-figure-2 .node circle,#mermaid-figure-2 .node ellipse,#mermaid-figure-2 .node polygon,#mermaid-figure-2 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#mermaid-figure-2 .rough-node .label text,#mermaid-figure-2 .node .label text{text-anchor:middle;}#mermaid-figure-2 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-figure-2 .node .label{text-align:center;}#mermaid-figure-2 .node.clickable{cursor:pointer;}#mermaid-figure-2 .arrowheadPath{fill:lightgrey;}#mermaid-figure-2 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-figure-2 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-figure-2 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-figure-2 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#mermaid-figure-2 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-figure-2 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-figure-2 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-figure-2 .cluster text{fill:#F9FFFE;}#mermaid-figure-2 .cluster span{color:#F9FFFE;}#mermaid-figure-2 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-figure-2 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-figure-2 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style>
<g><marker orient="auto" markerheight="8" markerwidth="8" markerunits="userSpaceOnUse" refy="5" refx="5" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629590_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="8" markerwidth="8" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629590_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629590_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart-v2" id="mermaid-1749087629590_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-1749087629590_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-1749087629590_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-1749087629590_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_L1_0" d="M134.496,57.117L120.994,62.097C107.492,67.078,80.488,77.039,66.986,84.103C53.484,91.167,53.484,95.333,53.484,98.833C53.484,102.333,53.484,105.167,53.484,106.583L53.484,108"></path><path marker-end="url(#mermaid-1749087629590_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_L2_1" d="M194.453,62L194.453,66.167C194.453,70.333,194.453,78.667,194.453,84.917C194.453,91.167,194.453,95.333,194.453,98.833C194.453,102.333,194.453,105.167,194.453,106.583L194.453,108"></path><path marker-end="url(#mermaid-1749087629590_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_L3_2" d="M254.41,57.117L267.912,62.097C281.414,67.078,308.418,77.039,321.92,84.103C335.422,91.167,335.422,95.333,335.422,98.833C335.422,102.333,335.422,105.167,335.422,106.583L335.422,108"></path><path marker-end="url(#mermaid-1749087629590_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L1_P1_3" d="M53.484,166L53.484,170.167C53.484,174.333,53.484,182.667,53.484,188.917C53.484,195.167,53.484,199.333,53.484,202.833C53.484,206.333,53.484,209.167,53.484,210.583L53.484,212"></path><path marker-end="url(#mermaid-1749087629590_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L2_P2_4" d="M194.453,166L194.453,170.167C194.453,174.333,194.453,182.667,194.453,188.917C194.453,195.167,194.453,199.333,194.453,202.833C194.453,206.333,194.453,209.167,194.453,210.583L194.453,212"></path><path marker-end="url(#mermaid-1749087629590_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L3_P3_5" d="M335.422,166L335.422,170.167C335.422,174.333,335.422,182.667,335.422,188.917C335.422,195.167,335.422,199.333,335.422,202.833C335.422,206.333,335.422,209.167,335.422,210.583L335.422,212"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel"></span>
</div>
</foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel"></span>
</div>
</foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel"></span>
</div>
</foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel"></span>
</div>
</foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel"></span>
</div>
</foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0">
<div class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="edgeLabel"></span>
</div>
</foreignobject></g></g></g><g class="nodes"><g transform="translate(194.453125, 35)" id="flowchart-C-0" class="node default"><rect height="54" width="119.9140625" y="-27" x="-59.95703125" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-44.95703125, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="89.9140625">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
global cache
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(53.484375, 139)" id="flowchart-L1-1" class="node default"><rect height="54" width="85.3203125" y="-27" x="-42.66015625" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-27.66015625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="55.3203125">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
library1
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(194.453125, 139)" id="flowchart-L2-3" class="node default"><rect height="54" width="85.3203125" y="-27" x="-42.66015625" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-27.66015625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="55.3203125">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
library2
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(335.421875, 139)" id="flowchart-L3-5" class="node default"><rect height="54" width="85.3203125" y="-27" x="-42.66015625" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-27.66015625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="55.3203125">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
library3
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(53.484375, 243)" id="flowchart-P1-7" class="node default"><rect height="54" width="90.96875" y="-27" x="-45.484375" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-30.484375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="60.96875">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
project1
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(194.453125, 243)" id="flowchart-P2-9" class="node default"><rect height="54" width="90.96875" y="-27" x="-45.484375" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-30.484375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="60.96875">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
project2
</p>
</span>
</div>
</foreignobject></g></g><g transform="translate(335.421875, 243)" id="flowchart-P3-11" class="node default"><rect height="54" width="90.96875" y="-27" x="-45.484375" ry="5" data-et="node" data-id="abc" rx="5" style="" class="basic label-container"></rect><g transform="translate(-30.484375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="60.96875">
<div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" data-xmlns="http://www.w3.org/1999/xhtml">
<span class="nodeLabel">
<p>
project3
</p>
</span>
</div>
</foreignobject></g></g></g></g></g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</div>
<p><br></p>
<h3 id="libpaths-1"><code>.libPaths()</code></h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Project <span class="st">'~/sample-project'</span> loaded. [renv <span class="dv">1</span>.<span class="fl">0.7</span>]</span>
<span id="cb22-2"><a aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">.libPaths</span>()</span>
<span id="cb22-3"><a aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"C:/Users/edavi/Documents/sample-project/renv/library/windows/R-4.4/x86_64-w64-mingw32"</span>        </span>
<span id="cb22-4"><a aria-hidden="true" tabindex="-1"></a>[<span class="dv">2</span>] <span class="st">"C:/Users/edavi/AppData/Local/R/cache/R/renv/sandbox/windows/R-4.4/x86_64-w64-mingw32/88765555"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="isolated-project-environments-1" class="slide level2">
<h2>isolated project environments</h2>
<ul>
<li>experiment with new packages without breaking other projects</li>
<li>share exactly which versions you’re using with your team or future you</li>
<li>re-use packages you’ve already installed</li>
</ul>
</section>
<section id="activity-3" class="slide level2">
<h2>activity</h2>
<div class="question">
<p>create an isolated project library</p>
</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a>usethis<span class="sc">::</span><span class="fu">create_project</span>(<span class="st">"wtf-2024"</span>)</span>
<span id="cb23-2"><a></a><span class="fu">install.packages</span>(<span class="st">"renv"</span>)</span>
<span id="cb23-3"><a></a>renv<span class="sc">::</span><span class="fu">init</span>()</span>
<span id="cb23-4"><a></a>renv<span class="sc">::</span><span class="fu">status</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
{{&lt; countdown "3:00" &gt;}}
</section>
<section id="activity-4" class="slide level2">
<h2>activity</h2>
<div class="question">
<p>manage dependencies</p>
</div>
<p>add <code>library(parallelly)</code> to any file in the <code>wtf-2024/R</code> directory</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a>renv<span class="sc">::</span><span class="fu">status</span>()</span>
<span id="cb24-2"><a></a><span class="fu">install.packages</span>(<span class="st">"parallelly"</span>)</span>
<span id="cb24-3"><a></a>renv<span class="sc">::</span><span class="fu">status</span>()</span>
<span id="cb24-4"><a></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>remove <code>library(parallelly)</code> from the file you added it to</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a>renv<span class="sc">::</span><span class="fu">status</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
{{&lt; countdown "5:00" &gt;}}
<aside class="notes">
<p>run <code>.libPaths()</code> to see what your default package libraries are initialize an renv–you’ll see that the environment is now local to the project note the .Rprofile that gets placed into your project, which runs an R script in <code>renv/activate.R</code> deactivate the environment and check libPaths() again–it should be back to normal</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="renvinstall" class="slide level2">
<h2><code>renv::install()</code></h2>
<p>or <a href="https://rstudio.github.io/renv/articles/renv.html#shims"><code>install.packages()</code></a> with shims enabled</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"jsonlite"</span>)</span>
<span id="cb27-2"><a></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"jsonlite@1.2"</span>) <span class="co"># at version</span></span>
<span id="cb27-3"><a></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"jeroen/jsonlite"</span>) <span class="co"># latest</span></span>
<span id="cb27-4"><a></a>renv<span class="sc">::</span>install<span class="st">"jeroen/jsonlite@80854359976250f30a86a6992c0d8c3b3d95473d"</span><span class="er">)</span> <span class="co"># at SHA</span></span>
<span id="cb27-5"><a></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="st">"path/to/package"</span>) <span class="co"># local source</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
<div class="fragment">
<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a>devtools<span class="sc">::</span><span class="fu">install</span>(<span class="st">"jsonlite"</span>)</span>
<span id="cb28-2"><a></a>devtools<span class="sc">::</span><span class="fu">install_version</span>(<span class="st">"jsonlite@1.2"</span>) <span class="co"># at version</span></span>
<span id="cb28-3"><a></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"jeroen/jsonlite"</span>) <span class="co"># latest</span></span>
<span id="cb28-4"><a></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">"jeroen/jsonlite@80854359976250f30a86a6992c0d8c3b3d95473d"</span>) <span class="co"># at SHA</span></span>
<span id="cb28-5"><a></a>devtools<span class="sc">::</span><span class="fu">install</span>(<span class="st">"path/to/package"</span>) <span class="co"># local source</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="the-junk-drawer" class="slide level2">
<h2>the junk drawer</h2>
<p>for reprexes, tweets, and other ephemera:</p>
<p><code>~/Documents/scratch</code></p>
<aside class="notes">
<p>I use <code>renv</code> for everything, and have one junk project into which I install things without regard for stability or reproducibility</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section>
<section id="installing-upgrading-r" class="title-slide slide level1 center">
<h1>installing / upgrading R</h1>

</section>
<section id="why-3" class="slide level2">
<h2>why</h2>
<div class="r-stack">
<img data-src="img/project-oyster-greyed.svg" class="r-stretch">
</div>
</section>
<section id="why-4" class="slide level2">
<h2>why</h2>
<div class="r-stack">
<p><img data-src="img/project-oyster.svg"></p>
</div>
</section>
<section id="bigger-context" class="slide level2">
<h2>bigger context</h2>
<div class="r-stack">
<p><img data-src="img/r-project-oyster.svg"></p>
</div>
</section>
<section id="practice-makes-perfect" class="slide level2">
<h2>practice makes perfect</h2>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Windows 10+</a></li><li><a href="#tabset-7-2">macOS</a></li><li><a href="#tabset-7-3">Linux</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<p><a href="https://docs.microsoft.com/en-us/windows/security/threat-protection/windows-sandbox/windows-sandbox-overview">Windows Sandbox</a></p>
</div>
<div id="tabset-7-2">
<p><a href="https://tart.run/">tart</a><br>
<a href="https://mac.getutm.app/">utm</a></p>
</div>
<div id="tabset-7-3">
<p><a href="https://multipass.run/">Multipass</a><br>
<a href="https://www.digitalocean.com/">Digital Ocean</a><br>
<a href="https://www.linode.com/">Linode</a></p>
</div>
</div>
</div>
<aside class="notes">
<p>The best way to become more comfortable with installing things is to practice in an environment you can throw away - the windows sandbox lets you test in an environment on your machine that won’t affect your computer - enabling it is outside the scope of this course - for linux users, the easiest thing to do is stand up a small VPS</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="run-this-command-clickops" class="slide level2">
<h2>“run this command” &gt;&gt; clickOps</h2>

<img data-src="img/installing-R.png" class="r-stretch"></section>
<section id="package-managers" class="slide level2">
<h2>package managers</h2>
<p>software whose job it is to install other software <span class="emoji" data-emoji="hear_no_evil">🙉</span> not the same kinds of <em>packages</em> as PPM</p>
<table class="caption-top">
<thead>
<tr class="header">
<th></th>
<th>package manager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{&lt; fa brands windows &gt;}} windows</td>
<td><a href="https://scoop.sh/">scoop</a>, chocolatey, winget</td>
</tr>
<tr class="even">
<td>{{&lt; fa brands apple &gt;}} macOS</td>
<td><a href="https://brew.sh/">homebrew</a></td>
</tr>
<tr class="odd">
<td>{{&lt; fa brands linux &gt;}} linux</td>
<td><a href="https://brew.sh/">homebrew</a>, apt, yum, zypper</td>
</tr>
</tbody>
</table>
</section>
<section id="section-3" class="slide level2">
<h2><span class="emoji" data-emoji="warning">⚠️</span></h2>
<p>Avoid installing your language with a package manager</p>
<aside class="notes">
<p>You want to avoid having the language version your projects are using changed out from you unexpectedly Tools for freezing installations with your package manager are not consistently effective Other software that you install with your package manager may expect that package manager to be running the latest Idiosyncracies of your language will be better understood by a dedicated tool</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="language-managers" class="slide level2">
<h2>language managers</h2>
<p>using your package manager, install <a href="https://github.com/r-lib/rig">rig</a>:</p>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">windows</a></li><li><a href="#tabset-8-2">*nix</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<div class="sourceCode" id="cb29"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a aria-hidden="true" tabindex="-1"></a><span class="ex">scoop</span> install rig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-8-2">
<div class="sourceCode" id="cb30"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> tap r-lib/rig</span>
<span id="cb30-2"><a aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> install <span class="at">--cask</span> rig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="small">
<p>language managers for other languages:</p>
<p>{{&lt; fa brands python &gt;}} <a href="https://github.com/pyenv/pyenv">pyenv</a><br>
{{&lt; fa brands node-js &gt;}} <a href="https://github.com/nvm-sh/nvm">nvm</a><br>
{{&lt; fa brands rust &gt;}} <a href="https://rustup.rs/">rustup</a><br>
{{&lt; fa globe &gt;}} <a href="https://asdf-vm.com/">asdf</a><br>
{{&lt; fa globe &gt;}} <a href="https://mise.jdx.dev/">mise-en-place</a></p>
</div>
<aside class="notes">
<ul>
<li>many language managers are often written in some language other than the one they are responsible for managing</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>


<section id="list-installed-r-versions" class="slide level2">
<h2>list installed R versions</h2>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">{{&lt; fa brands windows &gt;}}</a></li><li><a href="#tabset-9-2">{{&lt; fa brands apple &gt;}}</a></li><li><a href="#tabset-9-3">{{&lt; fa brands linux &gt;}}</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<div class="sourceCode" id="cb31"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a></a><span class="ex">❯</span> rig list <span class="at">--help</span></span>
<span id="cb31-2"><a></a><span class="ex">Description:</span></span>
<span id="cb31-3"><a></a>  <span class="ex">List</span> installed R versions at <span class="kw">`</span><span class="ex">C:\Program</span> Files<span class="dt">\R</span><span class="kw">`</span>.</span>
<span id="cb31-4"><a></a>  <span class="ex">It</span> does _not_ check if they are working properly.</span>
<span id="cb31-5"><a></a></span>
<span id="cb31-6"><a></a>  <span class="kw">`</span><span class="ex">rig</span> ls<span class="kw">`</span> is an alias.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-2">
<div class="sourceCode" id="cb32"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a></a><span class="ex">❯</span> rig list <span class="at">--help</span></span>
<span id="cb32-2"><a></a><span class="ex">Description:</span></span>
<span id="cb32-3"><a></a>  <span class="ex">List</span> installed R versions from <span class="kw">`</span><span class="ex">/Library/Framework/R.framework/Versions</span><span class="kw">`</span>.</span>
<span id="cb32-4"><a></a>  <span class="ex">It</span> does _not_ check if they are working properly.</span>
<span id="cb32-5"><a></a></span>
<span id="cb32-6"><a></a>  <span class="kw">`</span><span class="ex">rig</span> ls<span class="kw">`</span> is an alias.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tabset-9-3">
<div class="sourceCode" id="cb33"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a></a><span class="ex">❯</span> rig list <span class="at">--help</span></span>
<span id="cb33-2"><a></a><span class="ex">Description:</span></span>
<span id="cb33-3"><a></a>  <span class="ex">List</span> installed R versions from <span class="kw">`</span><span class="ex">/opt/R</span><span class="kw">`</span>. It does _not_ check if they are</span>
<span id="cb33-4"><a></a>  <span class="ex">working</span> properly.</span>
<span id="cb33-5"><a></a></span>
<span id="cb33-6"><a></a>  <span class="kw">`</span><span class="ex">rig</span> ls<span class="kw">`</span> is an alias.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="language-versions" class="slide level2">
<h2>language versions</h2>
<p>using <code>rig</code>, install a version of R:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a></a><span class="ex">❯</span> rig install <span class="at">--help</span></span>
<span id="cb34-2"><a></a><span class="ex">Description:</span></span>
<span id="cb34-3"><a></a>  <span class="ex">Download</span> and install an R version, from the official sources.</span>
<span id="cb34-4"><a></a>  <span class="ex">It</span> keeps the already installed R versions, except versions within the</span>
<span id="cb34-5"><a></a>  <span class="ex">same</span> minor branch, see below.</span>
<span id="cb34-6"><a></a></span>
<span id="cb34-7"><a></a><span class="ex">Options:</span></span>
<span id="cb34-8"><a></a>      <span class="ex">--without-cran-mirror</span></span>
<span id="cb34-9"><a></a>          <span class="ex">Do</span> not set the cloud CRAN mirror</span>
<span id="cb34-10"><a></a></span>
<span id="cb34-11"><a></a>      <span class="ex">--without-pak</span></span>
<span id="cb34-12"><a></a>          <span class="ex">Do</span> not install pak.</span>
<span id="cb34-13"><a></a></span>
<span id="cb34-14"><a></a>      <span class="ex">--pak-version</span> <span class="op">&lt;</span>pak-version<span class="op">&gt;</span></span>
<span id="cb34-15"><a></a>          <span class="ex">pak</span> version to install.</span>
<span id="cb34-16"><a></a></span>
<span id="cb34-17"><a></a>          <span class="ex">[default:</span> stable]</span>
<span id="cb34-18"><a></a>          <span class="ex">[possible</span> values: stable, rc, devel]</span>
<span id="cb34-19"><a></a></span>
<span id="cb34-20"><a></a>  <span class="ex">-a,</span> <span class="at">--arch</span> <span class="op">&lt;</span>arch<span class="op">&gt;</span></span>
<span id="cb34-21"><a></a>          <span class="ex">Select</span> macOS arch: arm64 or x86_64</span>
<span id="cb34-22"><a></a></span>
<span id="cb34-23"><a></a>          <span class="ex">[default:</span> arm64]</span>
<span id="cb34-24"><a></a>          <span class="ex">[possible</span> values: arm64, x86_64]</span>
<span id="cb34-25"><a></a></span>
<span id="cb34-26"><a></a>  <span class="ex">-h,</span> <span class="at">--help</span></span>
<span id="cb34-27"><a></a>          <span class="ex">Print</span> help <span class="er">(</span><span class="ex">see</span> a summary with <span class="st">'-h'</span><span class="kw">)</span></span>
<span id="cb34-28"><a></a></span>
<span id="cb34-29"><a></a><span class="ex">Examples:</span></span>
<span id="cb34-30"><a></a>  <span class="co"># Add the latest development snapshot</span></span>
<span id="cb34-31"><a></a>  <span class="ex">rig</span> add devel</span>
<span id="cb34-32"><a></a></span>
<span id="cb34-33"><a></a>  <span class="co"># Add the latest release</span></span>
<span id="cb34-34"><a></a>  <span class="ex">rig</span> add release</span>
<span id="cb34-35"><a></a></span>
<span id="cb34-36"><a></a>  <span class="co"># Install specific version</span></span>
<span id="cb34-37"><a></a>  <span class="ex">rig</span> add 4.1.2</span>
<span id="cb34-38"><a></a></span>
<span id="cb34-39"><a></a>  <span class="co"># Install latest version within a minor branch</span></span>
<span id="cb34-40"><a></a>  <span class="ex">rig</span> add 4.1</span>
<span id="cb34-41"><a></a></span>
<span id="cb34-42"><a></a>  <span class="co"># Install arm64 build of R (default on arm64 macs)</span></span>
<span id="cb34-43"><a></a>  <span class="ex">rig</span> add <span class="at">-a</span> arm64 release</span>
<span id="cb34-44"><a></a></span>
<span id="cb34-45"><a></a>  <span class="co"># Install x86_64 build of R (default on x86_64 macs)</span></span>
<span id="cb34-46"><a></a>  <span class="ex">rig</span> add <span class="at">-a</span> x86_64 release</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<aside class="notes">
<p>if you’re running a distribution of linux that rig doesn’t support: - https://docs.rstudio.com/resources/install-r/</p>
<p>if no pre-compiled binary of R is available: - https://docs.rstudio.com/resources/install-r-source/</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="switching-default-versions" class="slide level2">
<h2>switching default versions</h2>
<div class="sourceCode" id="cb35"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a></a><span class="ex">❯</span> rig switch <span class="at">--help</span></span>
<span id="cb35-2"><a></a><span class="ex">Description:</span></span>
<span id="cb35-3"><a></a>  <span class="ex">Print</span> or set the default R version. The default R version is the one that</span>
<span id="cb35-4"><a></a>  <span class="ex">is</span> started with the <span class="kw">`</span><span class="ex">R</span><span class="kw">`</span> command, usually via the <span class="kw">`</span><span class="ex">/usr/local/bin/R</span><span class="kw">`</span></span>
<span id="cb35-5"><a></a>  <span class="ex">symbolic</span> link.</span>
<span id="cb35-6"><a></a></span>
<span id="cb35-7"><a></a>  <span class="kw">`</span><span class="ex">rig</span> switch<span class="kw">`</span> is an alias of <span class="kw">`</span><span class="ex">rig</span> default<span class="kw">`</span>.</span>
<span id="cb35-8"><a></a></span>
<span id="cb35-9"><a></a><span class="ex">Usage:</span> rig default <span class="pp">[</span><span class="ss">OPTIONS</span><span class="pp">]</span> <span class="pp">[</span><span class="ss">version</span><span class="pp">]</span></span>
<span id="cb35-10"><a></a></span>
<span id="cb35-11"><a></a><span class="ex">Arguments:</span></span>
<span id="cb35-12"><a></a>  <span class="ex">[version]</span></span>
<span id="cb35-13"><a></a>          <span class="ex">new</span> default R version to set</span>
<span id="cb35-14"><a></a></span>
<span id="cb35-15"><a></a><span class="ex">Options:</span></span>
<span id="cb35-16"><a></a>      <span class="ex">--json</span></span>
<span id="cb35-17"><a></a>          <span class="ex">JSON</span> output</span>
<span id="cb35-18"><a></a></span>
<span id="cb35-19"><a></a>  <span class="ex">-h,</span> <span class="at">--help</span></span>
<span id="cb35-20"><a></a>          <span class="ex">Print</span> help <span class="er">(</span><span class="ex">see</span> a summary with <span class="st">'-h'</span><span class="kw">)</span></span>
<span id="cb35-21"><a></a></span>
<span id="cb35-22"><a></a><span class="ex">Examples:</span></span>
<span id="cb35-23"><a></a>  <span class="co"># Query default R version</span></span>
<span id="cb35-24"><a></a>  <span class="ex">rig</span> default</span>
<span id="cb35-25"><a></a></span>
<span id="cb35-26"><a></a>  <span class="co"># Set the default version</span></span>
<span id="cb35-27"><a></a>  <span class="ex">rig</span> default 4.1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="launch-rstudio" class="slide level2">
<h2>launch rstudio</h2>
<div class="sourceCode" id="cb36"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a></a><span class="ex">❯</span> rig rstudio <span class="at">--help</span></span>
<span id="cb36-2"><a></a><span class="ex">Description:</span></span>
<span id="cb36-3"><a></a>  <span class="ex">Start</span> RStudio with the specified R version.</span>
<span id="cb36-4"><a></a></span>
<span id="cb36-5"><a></a>  <span class="ex">If</span> the RStudio project or the specified directory contains an <span class="kw">`</span><span class="ex">renv.lock</span><span class="kw">`</span></span>
<span id="cb36-6"><a></a>  <span class="fu">file</span> <span class="er">(</span><span class="ex">created</span> by the renv package<span class="kw">)</span><span class="ex">,</span> and <span class="kw">`</span><span class="ex">version</span><span class="kw">`</span> is not specified, then</span>
<span id="cb36-7"><a></a>  <span class="ex">rig</span> will read the preferred R version from the <span class="kw">`</span><span class="ex">renv.lock</span><span class="kw">`</span> file.</span>
<span id="cb36-8"><a></a>  <span class="ex">If</span> the same exact version is not installed, then rig chooses</span>
<span id="cb36-9"><a></a>  <span class="ex">the</span> latest version with the same major and minor components. If no such</span>
<span id="cb36-10"><a></a>  <span class="ex">version</span> is available, rig throws an error.</span>
<span id="cb36-11"><a></a></span>
<span id="cb36-12"><a></a><span class="ex">Examples:</span></span>
<span id="cb36-13"><a></a>  <span class="co"># With default R version</span></span>
<span id="cb36-14"><a></a>  <span class="ex">rig</span> rstudio</span>
<span id="cb36-15"><a></a></span>
<span id="cb36-16"><a></a>  <span class="co"># With another R version</span></span>
<span id="cb36-17"><a></a>  <span class="ex">rig</span> rstudio 4.0</span>
<span id="cb36-18"><a></a></span>
<span id="cb36-19"><a></a>  <span class="co"># Open project with default R version</span></span>
<span id="cb36-20"><a></a>  <span class="ex">rig</span> rstudio cli.Rproj</span>
<span id="cb36-21"><a></a></span>
<span id="cb36-22"><a></a>  <span class="co"># Open renv project with the R version specified in the lock file</span></span>
<span id="cb36-23"><a></a>  <span class="ex">rig</span> rstudio projects/myproject/renv.lock</span>
<span id="cb36-24"><a></a></span>
<span id="cb36-25"><a></a>  <span class="co"># Open RStudio project with specified R version, either is good</span></span>
<span id="cb36-26"><a></a>  <span class="ex">rig</span> rstudio 4.0 cli.Rproj</span>
<span id="cb36-27"><a></a>  <span class="ex">rig</span> rstudio cli.Rproj 4.0</span>
<span id="cb36-28"><a></a></span>
<span id="cb36-29"><a></a><span class="ex">Usage:</span> rig rstudio <span class="pp">[</span><span class="ss">version</span><span class="pp">]</span> <span class="pp">[</span><span class="ss">project</span><span class="pp">-</span><span class="ss">file</span><span class="pp">]</span></span>
<span id="cb36-30"><a></a></span>
<span id="cb36-31"><a></a><span class="ex">Arguments:</span></span>
<span id="cb36-32"><a></a>  <span class="ex">[version]</span></span>
<span id="cb36-33"><a></a>          <span class="ex">R</span> version to start</span>
<span id="cb36-34"><a></a></span>
<span id="cb36-35"><a></a>  <span class="ex">[project-file]</span></span>
<span id="cb36-36"><a></a>          <span class="ex">RStudio</span> project file <span class="er">(</span><span class="ex">.Rproj</span><span class="kw">)</span> <span class="ex">to</span> open</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="activity-5" class="slide level2">
<h2>activity</h2>
<div class="question">
<p>migrate a project from one R version to another</p>
</div>
<ol type="1">
<li>use <code>renv::snapshot()</code> to create an <code>renv.lock</code> file</li>
<li>close RStudio</li>
<li>launch RStudio with a different R version</li>
<li>use <code>renv::restore()</code> to restore your project</li>
</ol>
{{&lt; countdown "7:00" &gt;}}


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="img/wtf-logo-square-transparent.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://github.com/rstats-wtf/wtf-personal-radmin-slides">Personal R Administration</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>